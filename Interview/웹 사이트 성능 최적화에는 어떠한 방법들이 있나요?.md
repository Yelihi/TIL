## 웹 사이트의 성능 최적화

경험상 웹 사이트의 성능을 최적화 할 때 유용한 부분은 다음과 같다. <br />

- 서버로부터 얼마나 빠르게 브라우저에 렌더링할 html 파일 (혹은 js 파일) 을 가져오느냐
- 기기의 크기에 따른 이미지 크기 조절
- 서버로부터의 응답 상태에 따른 적절한 레이아웃 설정(layout shift 방지)
- 무의미하지만 렌더링 시간을 길게 만드는 계산들을 삭제
- 과도한 reflow, repaint 를 유발하는 스타일 이벤트 처리
- 브라우저 별 엔진의 차이에 의한 js 표준화(폴리필)

<br />

정도 인듯 싶다. 적어도 한번쯔음은 다 경험해본 사안들이다. 이에 대한 대안으로는 다음과 같은데, <br />

- CDN 을 활용하여 cache 해놓을 수 있는 파일들을 미리 cache 한다. (빠른 server response)
- 디바이스 별 이미지 최적화(일반적으로는 width 에 따른 각각의 이미지들을 미리 저장해놓고 가져오기) + Next.js 는 자동으로 최적화 + 파일형식을 webp 로 하기
- loading 등 상태에서 갑작스런 레이아웃 쉬프트가 발생할 수 있어 오작동을 유도할 수 있기에, 이에 skeleton UI 등을 적용하여 방지해주자
- 예를 들어 table 내 td 요소를 1만개 추가하는 함수가 있다고 하면, 매 td 를 1만번 DOM에 업데이트 시키는게 아니라, td 1만개를 따로 변수로 모아 한번만 DOM을 업데이트 하는 방식으로 렌더링 최적화를 진행할 수 있다.
- 대부분은 최적화가 되어있지만, resize 이벤트나 scroll 이벤트 등을 통해 과도한 reflow 가 발생할 수 있으니, Intersection Observer 등을 통해 대안을 찾자.
- 대부분의 webpack 은 이를 자동으로 해결해준다.
