## 실제 학습내용을 정리하기 전 최소한 암기를 해야하는 부분에 대해서 정리하기

암기가 필요하긴 하기에, 우선적으로 주제에 대한 암기해야할 부분을 정리하고자 한다.

### MAC, IP, Port 번호가 식별하는 대상하는 대상은 무엇일까?

- Mac : NIC(LAN 카드)들은 MAC 주소를 가지고 있다. 유선, 무선을 지원한다면 그 컴퓨터는 MAC 주소가 2가지라고 해도 된다.
  - MAC 주소는 하드웨어 주소지만 변경이 가능하다.
- IP : NIC 하나에 여러 IP 주소가 binding 된다. 컴퓨터 한대에 IP 주소가 여러개일 수 있다. ()
- Port: OSI 계층에 따라 user mode(프로세스 식별자), kernel mode(서비스 식별자), h/w mode(인터페이스 식별자) 로서 다양하게 해석된다.

### OSI 7 계층에 너무 집중하지 말자

- MAC, IP, Port 모두 식별자다.

### Host, switch

- 컴퓨터중에 네트워크와 연결되어있다면 이를 호스트(Host) 라고 부른다.
- 이러한 호스트 중에서 네트워크를 이용하는 호스트와 네트워크 자체를 이루는 호스트가 있는데, 이때 네트워크 자체를 이루는 컴퓨터라면 스위치(switch) 라고 한다.
- 네트워크를 이용하는 호스트를 엔드포인트(endpoint) 라고도 한다. (peer, server, client)
- 스위치에는 라우터(router)가 있고, 인터넷은 라우터 + DNS 의 집합체라고 이해하자.
- 라우터의 경우 계층중에 무엇으로 스위치 하는지에 따라 이름이 달라진다. 예를 들어 IP 로 스위치한다하면 L3 스위치, TCP 로 스위치한다하면 L4 스위치
- L3 스위치 = 라우터

### IP주소

- IP 주소는 호스트에 대한 식별주소
- IPv4 : 32bit 주소체제 - 2^32 -> 43억개정도
- IPv6 : 128bit 주소체제
- IP 주소는 8bit (0~255) 씩 끊어서 표시한다. (8 \* 4 = 32bit)
- IP 주소는 네트워크 ID 하고 호스트 ID 로 나뉜다.
- 이 주소체계에서 네트워크 ID 의 길이를 나타내주는것이 서브넷마스크
- 예를 들어 192.180.123.14 와 서브넷마스크 255.255.255.0 이라면 각각의 자리마다 bit 연산 AND 를 하게되면 192.180.123.0 이 되고 이 주소가 네트워크 ID 이다.

### Port

- Port 는 소켓에 바인딩 된다
- Port 는 2^16 개만큼 존재한다. (0~65535)
- port 는 프로세서 식별자이다. 패킷이 전달될 때 운영체제 수준에서 포트 번호에 따라 경로가 결정된다

### Switching

- 앞에서 언급한 스위치는 라우터라고 생각하자.
- 네트워크를 고속도로라 가정하고 패킷을 자동차라고 하자. 목적지로 가야하는데 교차로가 있다. 이 교차로가 바로 스위치이며 라우터이다.
- 라우터는 여러 라우터와 연결되어있고, 어떤 방향은 목적지로 못가고 어떤 방향은 돌아가야한다.
- 라우터에서 다른 라우터로 가기로 결정하는것을 switching 이라고 한다.
- 목적지까지 가려면 이정표(고속도로 안내판)가 필요한데 이를 라우팅 테이블이라고 한다.

### 데이터 단위

- user 모드 application process 수준(socket 수준)에서는 Stream 단위. (끝을 알수없는 데이터)
- Stream 데이터를 네트워크로 보낼 때는 분해가 일어난다. 잘려진 조각 하나를 Segment 라고 한다
- 이 잘려진 조각을 인터넷 환경에서 전송 가능하게 포장한 것을 패킷(packet)이라고 한다
- 이 패킷의 최대 크기는 1500byte 밖에 안한다
- 패킷을 실어 나를때는 frame 데이터에 넣는다. (인캡슐)

### 인터페이스 선택 (유선 인터넷 vs 무선 인터넷들)

- 스위칭은 달리 말하면 인터페이스 선택이라고 할 수 있다.
- 그렇다면 만약 인터넷에 무선과 유선으로 연결되어있다고 하면 컴퓨터는 어떤 기준으로 이 둘중 하나를 선택할까?
- 이 때 고려되는 사항이 바로 매트릭이다. 매트릭은 쉽게 말해 연결되어 전송되는데 들어가는 비용이라고 생각하면 된다
- 즉 매트릭 값이 적은 라우터가 선택된다.

### LAN 과 WAN

- 인터넷은 가상 네트워크이다. 물리적이지 않다. 인터넷은 WAN 으로 본다.
- LAN 은 1,2계층(하드웨어) 이라고 생각. 물리적이다.

### 패킷의 생성 원리

- 패킷은 헤더와 페이로드로 나뉜다.
- 헤더는 또 2가지로 나뉜다. IP(20byte) 와 TCP(20byte)
- stream 이 socket 을 타고 tcp 로 내려갈 때 segment 로 다 나누어진다.
- 패킷을 도감청 할 때 쓰는 용어: DPI
- segment 는 packet 의 내용물이라 생각하자.
- 즉, segment 가 payload 가 되는셈이다.
- segment 는 L4, packet 은 L3, frame 은 L2

### L2 스위치

- MAC 주소가 속한 L2. 따라서 MAC 주소로 스위칭 하는것이다.
- 